<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neon Arena - Game Mode Select</title>
    <link rel="stylesheet" href="games.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>

<body>
    <!-- Immersive GIF Background -->
    <img id="bg-gif" src="ezgif-652720b06abcebc8.gif" alt="Animated Background" />

    <header>
        <nav class="navbar">
            <div class="logo"><a href="index.html" class="logo-text">NEON ARENA</a></div>
            <ul class="nav-links">
                <li><a href="index.html">Start</a></li>
                <li><a href="games.html" class="active">The Trials</a></li>
                <li><a href="leaderboard.html">Rankings</a></li>
                <li><a href="register.html">Register</a></li>
            </ul>
        </nav>
    </header>

    <main class="games-container">
        <h2 class="title retro-title">GAME MODE SELECT</h2>

        <div class="carousel-container">
            <!-- Left Arrow -->
            <button class="nav-arrow prev-arrow"><i class="fas fa-chevron-left"></i></button>

            <div class="carousel-track">

                <!-- Card 1 (Far Left) -->
                <div class="carousel-card"
                    style="--bg-url: url('https://images.unsplash.com/photo-1550745165-9bc0b252726f?q=80&w=800');">
                    <div class="card-inner">
                        <h3 class="card-title">RETRO ARCADE</h3>
                        <div class="lock-circle">
                            <i class="fas fa-lock lock-icon"></i>
                        </div>
                        <p class="coming-soon">COMING SOON</p>
                    </div>
                </div>

                <!-- Card 2 (Left) -->
                <div class="carousel-card"
                    style="--bg-url: url('https://images.unsplash.com/photo-1511512578047-dfb367046420?q=80&w=800');">
                    <div class="card-inner">
                        <h3 class="card-title">NEON DRIFT</h3>
                        <p class="card-desc">High-speed neon trails and synthwave beats. Navigate the grid at breakneck
                            speeds.</p>
                        <button class="select-btn">SELECT</button>
                    </div>
                </div>

                <!-- Card 3 (Center) -->
                <div class="carousel-card active"
                    style="--bg-url: url('https://images.unsplash.com/photo-1605806616949-1e87b487cb2a?q=80&w=800');">
                    <div class="card-inner">
                        <h3 class="card-title">CYBER KOMBAT</h3>
                        <p class="card-desc">Enter the underground arena. Outlast your opponents in this brutal survival
                            mode.</p>
                        <button class="select-btn">SELECT</button>
                    </div>
                </div>

                <!-- Card 4 (Right) -->
                <div class="carousel-card"
                    style="--bg-url: url('https://images.unsplash.com/photo-1555680202-c86f0e12f086?q=80&w=800');">
                    <div class="card-inner">
                        <h3 class="card-title">GLITCH RUN</h3>
                        <p class="card-desc">Navigate a collapsing simulation. Watch out for corrupted sectors and
                            unexpected visual tearing.</p>
                        <button class="select-btn">SELECT</button>
                    </div>
                </div>

                <!-- Card 5 (Far Right) -->
                <div class="carousel-card"
                    style="--bg-url: url('https://images.unsplash.com/photo-1535295972055-1c762f4483e5?q=80&w=800');">
                    <div class="card-inner">
                        <h3 class="card-title">VOID HUNTER</h3>
                        <div class="lock-circle">
                            <i class="fas fa-lock lock-icon"></i>
                        </div>
                        <p class="coming-soon">COMING SOON</p>
                    </div>
                </div>

            </div>

            <!-- Right Arrow -->
            <button class="nav-arrow next-arrow"><i class="fas fa-chevron-right"></i></button>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const track = document.querySelector('.carousel-track');
            const cards = Array.from(document.querySelectorAll('.carousel-card'));
            const prevBtn = document.querySelector('.prev-arrow');
            const nextBtn = document.querySelector('.next-arrow');

            let currentIndex = 2; // Mid point

            function updateCarousel() {
                cards.forEach((card, index) => {
                    card.className = 'carousel-card'; // Reset classes

                    const total = cards.length;

                    // Logic for infinite loop visual offsets
                    let offset = index - currentIndex;

                    if (offset < -Math.floor(total / 2)) {
                        offset += total;
                    } else if (offset > Math.floor(total / 2)) {
                        offset -= total;
                    }

                    if (offset === 0) {
                        card.classList.add('active');
                    } else if (offset === -1) {
                        card.classList.add('prev-1');
                    } else if (offset === 1) {
                        card.classList.add('next-1');
                    } else if (offset <= -2) {
                        card.classList.add('prev-2');
                    } else if (offset >= 2) {
                        card.classList.add('next-2');
                    }
                });
            }

            prevBtn.addEventListener('click', () => {
                currentIndex = (currentIndex - 1 + cards.length) % cards.length;
                updateCarousel();
            });

            nextBtn.addEventListener('click', () => {
                currentIndex = (currentIndex + 1) % cards.length;
                updateCarousel();
            });

            // Allow clicking secondary cards to jump to them
            cards.forEach((card, index) => {
                card.addEventListener('click', () => {
                    if (currentIndex !== index) {
                        currentIndex = index;
                        updateCarousel();
                    }
                });
            });

            // Initialize
            updateCarousel();
        });
    </script>
</body>

</html>